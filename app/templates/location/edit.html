{% extends 'base.html' %}
{% set page_title = "Edit Location" %}
{% block content %}
    <h1 class="py-4">{{ page_title }}</h1>
    <form action="{{ url_for('location_view.save_location', id=location.id if location else 0) }}"
          novalidate
          class="needs-validation"
          method="post">
        <input type="hidden" name="id" value="{{ location.id if location else '' }}">
        <div class="form-group">
            <label class="form-label" for="title">Title</label>
            <input class="form-control"
                   type="text"
                   name="title"
                   id="title"
                   value="{{ location.title if location else '' }}"
                   required>
            <div class="invalid-feedback">Please provide a valid title.</div>
        </div>
        <div class="form-group">
            <label for="address1">Address</label>
            <input type="text"
                   class="form-control"
                   name="address1"
                   id="address1"
                   value="{{ location.address1 if location else '' }}"
                   required>
            <div class="invalid-feedback">Please provide a valid address.</div>
        </div>
        <div class="form-group">
            <label for="suburb">Suburb</label>
            <input type="text"
                   class="form-control"
                   name="suburb"
                   id="suburb"
                   value="{{ location.suburb if location else '' }}"
                   required>
            <div class="invalid-feedback">Please provide a valid suburb.</div>
        </div>
        <div class="form-group">
            <label for="city">City</label>
            <input type="text"
                   class="form-control"
                   name="city"
                   id="city"
                   value="{{ location.city if location else '' }}"
                   required>
            <div class="invalid-feedback">Please provide a valid city.</div>
        </div>
        <div class="form-group">
            <label for="postcode">Postal Code</label>
            <input type="text"
                   class="form-control"
                   name="postcode"
                   id="postcode"
                   value="{{ location.postcode if location else '' }}"
                   required>
            <div class="invalid-feedback">Please provide a valid postal code.</div>
        </div>
        <div class="form-group">
            <label for="facilities">Facilities</label>
            <textarea class="form-control" name="facilities" id="facilities" rows="3">{{ (location.facilities or '') if location else '' }}</textarea>
        </div>
        <div class="pt-4 d-flex justify-content-between">
            <a href="{{ url_for("location_view.list_locations") }}"
               class="link link-secondary">&lt;&lt; Back to location list</a>
            <button type="submit" class="btn btn-primary">Save</button>
        </div>
    </form>
{% endblock %}
