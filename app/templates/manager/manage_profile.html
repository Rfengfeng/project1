{% extends 'base.html' %}
{% set page_title = "Manage Profile" %}
{% block content %}
    <h1 class="py-4">Edit Profile</h1>
    <form method="post"
          action="{{ url_for("manager_view.manage_profile") }}"
          class="needs-validation"
          novalidate>
        <input type="hidden" name="user_id" value="{{ user.id }}">
        <div class="mb-3">
            <label for="first_name" class="form-label">First Name:</label>
            <input type="text"
                   id="first_name"
                   name="first_name"
                   value="{{ user.first_name }}"
                   class="form-control"
                   required>
            <div class="invalid-feedback">Please provide a first name.</div>
        </div>
        <div class="mb-3">
            <label for="last_name" class="form-label">Last Name:</label>
            <input type="text"
                   id="last_name"
                   name="last_name"
                   value="{{ user.last_name }}"
                   class="form-control"
                   required>
            <div class="invalid-feedback">Please provide a last name.</div>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email:</label>
            <input type="email"
                   id="email"
                   name="email"
                   value="{{ user.email }}"
                   class="form-control"
                   required>
            <div class="invalid-feedback">Please provide a valid email address.</div>
        </div>
        <div class="mb-3">
            <label for="title" class="form-label">Title:</label>
            <input type="text"
                   id="title"
                   name="title"
                   value="{{ user.title or '' }}"
                   class="form-control">
        </div>
        <div class="mb-3">
            <label for="position" class="form-label">Position:</label>
            <input type="text"
                   id="position"
                   name="position"
                   value="{{ user.position or '' }}"
                   class="form-control">
        </div>
        <div class="mb-3">
            <label for="phone_number" class="form-label">Phone number:</label>
            <input type="tel"
                   id="phone_number"
                   name="phone_number"
                   value="{{ user.phone_number or '' }}"
                   class="form-control"
                   pattern="(0|\+)\d{4,20}"
                   placeholder="Eg. +6422334455 or 022334455"
                   required>
            <div class="invalid-feedback">Please provide a valid phone number.</div>
        </div>
        <div class="mb-3">
            <label for="address" class="form-label">Address:</label>
            <input type="text"
                   id="address"
                   name="address"
                   value="{{ user.address or '' }}"
                   class="form-control">
        </div>
        <div class="mb-3">
            <label for="date_of_birth" class="form-label">Date of Birth:</label>
            <input type="date"
                   id="date_of_birth"
                   name="date_of_birth"
                   value="{{ user.date_of_birth or '' }}"
                   class="form-control"
                   required>
            <div class="invalid-feedback">Please provide a valid date.</div>
        </div>
        <div class="mb-3">
            <label for="active" class="form-label">Active:</label>
            <input type="checkbox"
                   id="active"
                   name="active"
                   {% if user.active %}checked{% endif %}
                   class="form-check-input">
        </div>
        <button type="submit" class="btn btn-primary">Update Profile</button>
    </form>
{% endblock %}
